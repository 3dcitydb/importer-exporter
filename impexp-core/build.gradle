plugins {
    id 'com.jfrog.bintray' version '1.8.4'
}

dependencies {
    compile project(':impexp-config')
    compile 'org.citydb:sqlbuilder:2.1.1'
    compile 'org.citygml4j:citygml4j:2.7.0'
    compile 'org.geotools:gt-epsg-extension:19.2'
    compile 'org.geotools:gt-epsg-hsql:19.2'
    compile 'org.geotools:gt-referencing:19.2'
    compile 'com.h2database:h2:1.4.197'
    compile 'org.locationtech.jts:jts-core:1.15.1'
    compile 'org.postgresql:postgresql:42.2.4'
    compile 'net.postgis:postgis-jdbc:2.2.1'
    compile 'org.apache.tomcat:tomcat-jdbc:9.0.10'
    compile 'org.apache.tomcat:tomcat-juli:9.0.10'
    compile fileTree(dir: 'lib', include: '*.jar')
}

javadoc {
    source += project(':impexp-config').sourceSets.main.allJava
}

bintray {
    user = project.hasProperty('bintrayUser') ? project.property('bintrayUser') : System.getenv('BINTRAY_USER')
    key = project.hasProperty('bintrayApiKey') ? project.property('bintrayApiKey') : System.getenv('BINTRAY_API_KEY')

    publications = ['mavenJava']
    pkg {
        repo = 'maven'
        userOrg = '3dcitydb'
        name = project.name
        websiteUrl = project.citydbVcsUrl
        vcsUrl = project.impexpGit
        issueTrackerUrl = project.impexpIssueTrackerUrl
        licenses = ['Apache-2.0']
        version {
            name = project.version
        }
    }
}